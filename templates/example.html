
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="utf-8" />
        <title>Game Map</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <link rel="stylesheet" href="../static/css.css">
    </head>
    <body>
        <div id="top_bar">
            <div id="place_agents" class="display_none">
                <span>Place agents:</span>
                <div id="agents"></div>
            </div>
            <div id="top_bar_proper" class="display_none">
                <button onclick="passTurnBtn()">Pass Turn</button>
                <button onclick="undo()">Undo</button>
                <button onclick="reset()">Reset</button>

                <div class="col">
                    <label><input type="checkbox" id="ai_pursuer"> AI Pursuers</label>
                    <label><input type="checkbox" id="ai_evader"> AI Evaders</label>
                </div>
                
                <div class="col">
                    <label for="ai_speed">Speed:</label>
                    <input type="range" id="ai_speed" min="0" max="100" step="1" value="50">
                </div>

                <span id="state_cost" style="margin-left:auto; font-weight:bold;">Cost: —</span>
            </div>
        </div>
        <div id="map"></div>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <script>
            const map = L.map('map').setView([-19.92999, -43.931994], 16);

            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '© OpenStreetMap'
            }).addTo(map);
            
            const degToRad=Math.PI/180;
            function equirectangularProj(lat,lon){
                return[
                    6378137*(lon+43.95754721560398)*degToRad*0.9402650268372756,
                    6378137*(lat+19.90388806666948)*degToRad
                ];
            }

            const nodes = [{"id": 0, "lat": -19.928940992857143, "lon": -43.93573745357143, "proj": [2282.8239533909077, -2788.8789860920106], "color": "#007f00"}, {"id": 1, "lat": -19.93147911818182, "lon": -43.93083495909091, "proj": [2795.9671878192953, -3071.4218048044163], "color": "#000000"}, {"id": 2, "lat": -19.932353405263157, "lon": -43.93258712105263, "proj": [2612.568703669479, -3168.746997506236], "color": "#000000"}, {"id": 3, "lat": -19.932948976744186, "lon": -43.93001430465116, "proj": [2881.8649435909497, -3235.0457115053073], "color": "#007f00"}, {"id": 4, "lat": -19.928142769230767, "lon": -43.932949823076925, "proj": [2574.6047466229347, -2700.021138464871], "color": "#000000"}, {"id": 5, "lat": -19.927981052238806, "lon": -43.92859869402985, "proj": [3030.0366581736916, -2682.0188852669467], "color": "#007f00"}, {"id": 6, "lat": -19.92999106904762, "lon": -43.93187435952381, "proj": [2687.173327443911, -2905.7729329099793], "color": "#000000"}, {"id": 7, "lat": -19.92725642142857, "lon": -43.93163105357143, "proj": [2712.6401186574, -2601.3533524585023], "color": "#000000"}, {"id": 8, "lat": -19.9307773, "lon": -43.933468833333336, "proj": [2520.280034431228, -2993.295762174918], "color": "#000000"}, {"id": 9, "lat": -19.932023938461537, "lon": -43.93397135, "proj": [2467.6817033750576, -3132.0709209166844], "color": "#000000"}, {"id": 10, "lat": -19.929022866666667, "lon": -43.93023326666667, "proj": [2858.9462279658, -2797.9931368775046], "color": "#000000"}, {"id": 11, "lat": -19.926737089285716, "lon": -43.9295019, "proj": [2935.4982482439455, -2543.5415627630887], "color": "#007f00"}, {"id": 12, "lat": -19.927122170833332, "lon": -43.932501625, "proj": [2621.517560450831, -2586.4086445579524], "color": "#007f00"}, {"id": 13, "lat": -19.926828215, "lon": -43.933798585, "proj": [2485.7649855181, -2553.685630875567], "color": "#007f00"}, {"id": 14, "lat": -19.9261852, "lon": -43.930682575, "proj": [2811.9172037949006, -2482.1055285030793], "color": "#007f00"}, {"id": 15, "lat": -19.930182128, "lon": -43.936171284000004, "proj": [2237.4149987872424, -2927.041518200513], "color": "#007f00"}, {"id": 16, "lat": -19.93169156551724, "lon": -43.935102582758624, "proj": [2349.2757696291674, -3095.0713340040675], "color": "#007f00"}, {"id": 17, "lat": -19.92786674, "lon": -43.92993068, "proj": [2890.617921110092, -2669.293705051599], "color": "#000000"}, {"id": 18, "lat": -19.9329585, "lon": -43.9355129, "proj": [2306.327936190644, -3236.1058354933753], "color": "#007f00"}, {"id": 19, "lat": -19.9302239, "lon": -43.9306127, "proj": [2819.2310077470293, -2931.6915559700738], "color": "#000000"}, {"id": 20, "lat": -19.930568407142857, "lon": -43.92934888571429, "proj": [2951.5142265988366, -2970.041915687431], "color": "#000000"}, {"id": 21, "lat": -19.928110042857142, "lon": -43.934413414285714, "proj": [2421.410912393524, -2696.378055217299], "color": "#000000"}, {"id": 22, "lat": -19.927849962499998, "lon": -43.935418725, "proj": [2316.185216865502, -2667.42604229484], "color": "#007f00"}, {"id": 23, "lat": -19.929221733333332, "lon": -43.93462368888889, "proj": [2399.4015066879438, -2820.1308729465836], "color": "#000000"}, {"id": 24, "lat": -19.93265062, "lon": -43.9313192, "proj": [2745.2817770919983, -3201.8327906678146], "color": "#000000"}, {"id": 25, "lat": -19.930913699999998, "lon": -43.927848866666665, "proj": [3108.520956307226, -3008.479740719006], "color": "#007f00"}, {"id": 26, "lat": -19.930839733333332, "lon": -43.93213036666667, "proj": [2660.3771048587246, -3000.245809050141], "color": "#000000"}, {"id": 27, "lat": -19.9335836, "lon": -43.9329243, "proj": [2577.276242592064, -3305.691649187922], "color": "#007f00"}, {"id": 28, "lat": -19.931382816666666, "lon": -43.936456, "proj": [2207.6138251779516, -3060.7015691751435], "color": "#007f00"}, {"id": 29, "lat": -19.9283921, "lon": -43.9278056, "proj": [3113.0496706923354, -2727.776512734789], "color": "#007f00"}, {"id": 30, "lat": -19.931758833333333, "lon": -43.929672466666666, "proj": [2917.6450652638523, -3102.5595530382], "color": "#000000"}, {"id": 31, "lat": -19.9321043, "lon": -43.9283661, "proj": [3054.3822343414367, -3141.016726457461], "color": "#007f00"}, {"id": 32, "lat": -19.9305083, "lon": -43.9348269, "proj": [2378.131435453377, -2963.350819151479], "color": "#000000"}, {"id": 33, "lat": -19.92931416, "lon": -43.9289787, "proj": [2990.261500159867, -2830.4197624156236], "color": "#000000"}, {"id": 34, "lat": -19.9296135, "lon": -43.9331958, "proj": [2548.85838537689, -2863.742138789537], "color": "#000000"}, {"id": 35, "lat": -19.9332679, "lon": -43.9342483, "proj": [2438.69339561872, -3270.548085944705], "color": "#007f00"}, {"id": 36, "lat": -19.9261539, "lon": -43.9343583, "proj": [2427.1797149789763, -2478.6212284412013], "color": "#007f00"}, {"id": 37, "lat": -19.9296347, "lon": -43.92768, "proj": [3126.196200586196, -2866.1021119946445], "color": "#007f00"}, {"id": 38, "lat": -19.934173649999998, "lon": -43.930422050000004, "proj": [2839.186309691966, -3371.3757147306424], "color": "#007f00"}, {"id": 39, "lat": -19.9299005, "lon": -43.9341223, "proj": [2451.8817934426693, -2895.690832647223], "color": "#000000"}, {"id": 40, "lat": -19.9338865, "lon": -43.9316204, "proj": [2713.755226103744, -3339.41032294934], "color": "#007f00"}, {"id": 41, "lat": -19.9286765, "lon": -43.9315777, "proj": [2718.224627588638, -2759.4357759165896], "color": "#000000"}];
            const transitions = [[15, 22, 23, 42], [3, 6, 19, 24, 26, 30], [24, 9, 26, 27], [38, 1, 30, 24, 42], [34, 6, 41, 12, 13, 21], [33, 10, 11, 17, 29, 42], [1, 34, 4, 8, 41, 10, 19, 26], [17, 12, 14, 41], [32, 34, 6, 9, 16, 26], [16, 8, 2, 35], [33, 5, 6, 41, 17, 19], [17, 5, 14, 42], [4, 13, 14, 7, 42], [21, 4, 12, 36, 42], [11, 12, 7, 42], [0, 32, 28, 42], [32, 8, 9, 18, 28, 42], [10, 11, 5, 7], [16, 35, 42], [1, 10, 20, 6], [25, 19, 30, 33], [4, 13, 22, 23], [0, 21, 42], [0, 32, 34, 39, 21], [40, 1, 2, 3], [20, 37, 31, 42], [8, 1, 2, 6], [40, 2, 35, 42], [16, 15, 42], [5, 42], [1, 3, 20, 31], [25, 30, 42], [16, 8, 15, 23], [10, 37, 20, 5], [8, 4, 6, 23], [9, 18, 27, 42], [13, 42], [33, 25, 42], [40, 3, 42], [23], [24, 27, 38, 42], [10, 4, 6, 7], []]; // Transitions as list of lists
            const counts = [3, 1];
            const db="example";
        </script>
        <script src="../static/js.js"></script>
    </body>
    </html>
    